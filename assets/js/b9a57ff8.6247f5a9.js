"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6899],{4310:(e,a,l)=>{l.r(a),l.d(a,{assets:()=>t,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"commands/Ollama","title":"Ollama","description":"Change Ollama Models Directory in Ubuntu Linux","source":"@site/docs/commands/Ollama.md","sourceDirName":"commands","slug":"/commands/Ollama","permalink":"/docs/commands/Ollama","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Ollama","title":"Ollama","sidebar_label":"Ollama"},"sidebar":"tutorialSidebar","previous":{"title":"Nginx Reverse Proxy","permalink":"/docs/commands/Nginx Reverse Proxy"},"next":{"title":"Open WebUI","permalink":"/docs/commands/Open WebUI"}}');var o=l(4848),s=l(8453);const r={id:"Ollama",title:"Ollama",sidebar_label:"Ollama"},i=void 0,t={},d=[{value:"Change Ollama Models Directory in Ubuntu Linux",id:"change-ollama-models-directory-in-ubuntu-linux",level:2},{value:"1.1. Copy installed ollama models from one disk to another",id:"11-copy-installed-ollama-models-from-one-disk-to-another",level:3},{value:"1.2. Get it from any other system (Linux) in your network",id:"12-get-it-from-any-other-system-linux-in-your-network",level:3},{value:"2. Stop Ollama Service (optional but recommended)",id:"2-stop-ollama-service-optional-but-recommended",level:3},{value:"3. Get user and group owner names of your destination folder",id:"3-get-user-and-group-owner-names-of-your-destination-folder",level:3},{value:"4. Create and Override Ollama service using config file",id:"4-create-and-override-ollama-service-using-config-file",level:3},{value:"5. Restart System Daemon (this is not a system reboot) and Ollama",id:"5-restart-system-daemon-this-is-not-a-system-reboot-and-ollama",level:3},{value:"6. Check the working",id:"6-check-the-working",level:3},{value:"7. Try downloading a model and check if it is saving to the new location",id:"7-try-downloading-a-model-and-check-if-it-is-saving-to-the-new-location",level:3},{value:"Optionals",id:"optionals",level:2},{value:"Check details of all directories",id:"check-details-of-all-directories",level:3},{value:"Status of Ollama",id:"status-of-ollama",level:3},{value:"Error logs of Ollama",id:"error-logs-of-ollama",level:3},{value:"Ollama and Open WebUI from separate computers",id:"ollama-and-open-webui-from-separate-computers",level:2}];function c(e){const a={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.h2,{id:"change-ollama-models-directory-in-ubuntu-linux",children:"Change Ollama Models Directory in Ubuntu Linux"}),"\n",(0,o.jsx)(a.h3,{id:"11-copy-installed-ollama-models-from-one-disk-to-another",children:"1.1. Copy installed ollama models from one disk to another"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"cp -r <curret/path/to/models> <destination/to/store/model/files>\n"})}),"\n",(0,o.jsxs)(a.ul,{children:["\n",(0,o.jsxs)(a.li,{children:["Example command: ",(0,o.jsx)(a.code,{children:"cp -r /mnt/INTERNAL/Ollama/.ollama /home/appuser/Ollama/.ollama"})]}),"\n"]}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(a.h3,{id:"12-get-it-from-any-other-system-linux-in-your-network",children:"1.2. Get it from any other system (Linux) in your network"}),"\n",(0,o.jsx)(a.p,{children:(0,o.jsx)(a.a,{href:"/docs/commands/Secure%20Copy",children:"See Secure Copy (SCP)"})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(a.h3,{id:"2-stop-ollama-service-optional-but-recommended",children:"2. Stop Ollama Service (optional but recommended)"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"sudo systemctl stop ollama\n"})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(a.h3,{id:"3-get-user-and-group-owner-names-of-your-destination-folder",children:"3. Get user and group owner names of your destination folder"}),"\n",(0,o.jsx)(a.p,{children:"Go to the folder where you're going to keep ollama files"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"cd /home/appuser/Ollama/.ollama (Example)\n"})}),"\n",(0,o.jsx)(a.p,{children:"Check details of all files"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"ls -lk -a\n"})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(a.h3,{id:"4-create-and-override-ollama-service-using-config-file",children:"4. Create and Override Ollama service using config file"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"sudo mkdir -p /etc/systemd/system/ollama.service.d; sudo nano /etc/systemd/system/ollama.service.d/override.conf\n"})}),"\n",(0,o.jsxs)(a.p,{children:["Add the ",(0,o.jsx)(a.code,{children:"path"}),", ",(0,o.jsx)(a.code,{children:"user"}),", and ",(0,o.jsx)(a.code,{children:"group"})," of new location in the file"]}),"\n",(0,o.jsx)(a.p,{children:"Example"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:'[Service]\nEnvironment="OLLAMA_MODELS=/home/appuser/ollama/.ollama/models" # change this path to your path\nUser=appuser # change this path to your User\nGroup=appuser # change this path to your Group\n'})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(a.h3,{id:"5-restart-system-daemon-this-is-not-a-system-reboot-and-ollama",children:"5. Restart System Daemon (this is not a system reboot) and Ollama"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"sudo systemctl daemon-reload\n\nsudo systemctl restart ollama\n"})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(a.h3,{id:"6-check-the-working",children:"6. Check the working"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"ollama list\n"})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(a.h3,{id:"7-try-downloading-a-model-and-check-if-it-is-saving-to-the-new-location",children:"7. Try downloading a model and check if it is saving to the new location"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"ollama run <model_name>\n"})}),"\n",(0,o.jsxs)(a.ul,{children:["\n",(0,o.jsxs)(a.li,{children:["Get new model name from ",(0,o.jsx)(a.code,{children:"ollama.com/models"})]}),"\n"]}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(a.hr,{}),"\n",(0,o.jsx)(a.h2,{id:"optionals",children:"Optionals"}),"\n",(0,o.jsx)(a.h3,{id:"check-details-of-all-directories",children:"Check details of all directories"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"ls -ld -a\n"})}),"\n",(0,o.jsx)(a.h3,{id:"status-of-ollama",children:"Status of Ollama"}),"\n",(0,o.jsx)(a.p,{children:"To see status of ollama (whether it is running, stopped, exited, error)"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"sudo systemctl status ollama\n"})}),"\n",(0,o.jsx)(a.h3,{id:"error-logs-of-ollama",children:"Error logs of Ollama"}),"\n",(0,o.jsx)(a.p,{children:"To see the error logs of ollama (limiting to the latest 50 lines)"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"journalctl -u ollama -n 50\n"})}),"\n",(0,o.jsx)(a.h2,{id:"ollama-and-open-webui-from-separate-computers",children:"Ollama and Open WebUI from separate computers"}),"\n",(0,o.jsx)(a.p,{children:"hidden"})]})}function m(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,a,l)=>{l.d(a,{R:()=>r,x:()=>i});var n=l(6540);const o={},s=n.createContext(o);function r(e){const a=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(s.Provider,{value:a},e.children)}}}]);