"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1674],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>d});var i=t(96540);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}},63636:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"gists/disk_mounting","title":"Disk Mounting","description":"When you have multiple disks on your computer, eg NVMe for OS and two other HDD for storing data and backup. In this setting, the drive for OS will be auto-mounted and OS will be loaded but the remaining two will remain unmounted. This gist will show how to mount a secondary disk automatically at startup using fstab in linux.","source":"@site/docs/gists/disk_mounting.md","sourceDirName":"gists","slug":"/gists/disk_mounting","permalink":"/docs/gists/disk_mounting","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"disk_mounting","title":"Disk Mounting","sidebar_label":"Disk Mounting"},"sidebar":"tutorialSidebar","previous":{"title":"Deep Learning Frameworks","permalink":"/docs/gists/Deep_Learning_Frameworks"},"next":{"title":"Folder Item Copier","permalink":"/docs/gists/folder_item_copier"}}');var o=t(74848),s=t(28453);const r={id:"disk_mounting",title:"Disk Mounting",sidebar_label:"Disk Mounting"},d="Auto-Mount Secondary Disks at Boot on Linux",a={},l=[{value:"Identify the Disk and Partition",id:"identify-the-disk-and-partition",level:2},{value:"Create a Mount Point",id:"create-a-mount-point",level:2},{value:"Get UUID or Label of the Partition",id:"get-uuid-or-label-of-the-partition",level:2},{value:"UUID - Universally Unique Identifier",id:"uuid---universally-unique-identifier",level:5},{value:"Edit <code>/etc/fstab</code> to Add the Disk",id:"edit-etcfstab-to-add-the-disk",level:2},{value:"Test the Configuration",id:"test-the-configuration",level:2},{value:"Verify the Mount",id:"verify-the-mount",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h5:"h5",header:"header",hr:"hr",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"auto-mount-secondary-disks-at-boot-on-linux",children:"Auto-Mount Secondary Disks at Boot on Linux"})}),"\n",(0,o.jsxs)(n.p,{children:["When you have multiple disks on your computer, eg NVMe for OS and two other HDD for storing data and backup. In this setting, the drive for OS will be auto-mounted and OS will be loaded but the remaining two will remain unmounted. This gist will show how to mount a secondary disk automatically at startup using ",(0,o.jsx)(n.code,{children:"fstab"})," in linux."]}),"\n",(0,o.jsx)(n.h2,{id:"identify-the-disk-and-partition",children:"Identify the Disk and Partition"}),"\n",(0,o.jsxs)(n.p,{children:["Use ",(0,o.jsx)(n.code,{children:"lsblk"})," to list available disks and partitions:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"lsblk\n"})}),"\n",(0,o.jsx)(n.p,{children:"Example output:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\r\nloop0         7:0    0     4K  1 loop /snap/abc/5\r\nloop1         7:1    0 183.9M  1 loop /snap/xyz/3199\r\nsda           8:0    0   1.8T  0 disk /mnt/DATA\r\nsdb           8:16   0   1.8T  0 disk /mnt/BACKUP\r\nnvme0n1     259:0    0 953.9G  0 disk \r\n\u251c\u2500nvme0n1p1 259:1    0   512M  0 part /boot/efi\r\n\u251c\u2500nvme0n1p2 259:2    0     6G  0 part \r\n\u251c\u2500nvme0n1p3 259:3    0   100G  0 part /\r\n\u251c\u2500nvme0n1p4 259:4    0    32G  0 part [SWAP]\r\n\u2514\u2500nvme0n1p5 259:5    0 815.4G  0 part /home\n"})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["From the above we're going to mount both ",(0,o.jsx)(n.code,{children:"sda"})," & ",(0,o.jsx)(n.code,{children:"sdb"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"create-a-mount-point",children:"Create a Mount Point"}),"\n",(0,o.jsx)(n.p,{children:"Create a directory where the partition will be mounted:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo mkdir -p /mnt/DATA\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You can change ",(0,o.jsx)(n.code,{children:"/mnt/DATA"})," to any path you prefer."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"get-uuid-or-label-of-the-partition",children:"Get UUID or Label of the Partition"}),"\n",(0,o.jsx)(n.h5,{id:"uuid---universally-unique-identifier",children:"UUID - Universally Unique Identifier"}),"\n",(0,o.jsxs)(n.p,{children:["Use ",(0,o.jsx)(n.code,{children:"blkid"})," to copy the UUID or label of the drive you need to mount automatically."]}),"\n",(0,o.jsx)(n.p,{children:"Any one of these (UUID or Label) can be used in the next step."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo blkid\n"})}),"\n",(0,o.jsx)(n.p,{children:"Example output:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'/dev/nvme0n1p5: LABEL="HOME" UUID="e81ddf3b-39f8-508d-a6ee-0f481032ca5e" TYPE="ext4"\r\n/dev/sda: LABEL="DATA" UUID="1969916a-c7c7-69d2-a143-2800e675a761" TYPE="ext4"\r\n/dev/sdb: LABEL="BACKUP" UUID="1CE3751F6BE6CF0D" TYPE="ntfs"\r\n\n'})}),"\n",(0,o.jsxs)(n.h2,{id:"edit-etcfstab-to-add-the-disk",children:["Edit ",(0,o.jsx)(n.code,{children:"/etc/fstab"})," to Add the Disk"]}),"\n",(0,o.jsxs)(n.p,{children:["Open ",(0,o.jsx)(n.code,{children:"/etc/fstab"})," in a text editor:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/fstab\n"})}),"\n",(0,o.jsx)(n.p,{children:"Add the following line at the end (replace the UUID and mount point with your own):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'<file system>            <mount point>   <type>   <options>   <dump>  <pass>\r\nLABEL=DATA               /mnt/DATA       ext4     defaults    0       2\r\nUUID="1CE3751F6BE6CF0D"  /mnt/BACKUP     ntfs     defaults    0       2\n'})}),"\n",(0,o.jsx)(n.h2,{id:"test-the-configuration",children:"Test the Configuration"}),"\n",(0,o.jsx)(n.p,{children:"Test the mount without rebooting:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo mount -a\n"})}),"\n",(0,o.jsx)(n.p,{children:"If there are no errors, the configuration is correct."}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["I got an error here ",(0,o.jsx)(n.code,{children:"mount: /mnt/somemountpoint: special device LABEL=xyz does not exist."}),", through which I found the step ",(0,o.jsx)(n.a,{href:"/docs/gists/disk_mounting#get-uuid-or-label-of-the-partition",children:"Get UUID or Label of the Partition"})]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"verify-the-mount",children:"Verify the Mount"}),"\n",(0,o.jsx)(n.p,{children:"Check that the partition is mounted properly:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"df -h\n"})}),"\n",(0,o.jsx)(n.p,{children:"Example output:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"/dev/sda  1.8T  923G  818G  54%  /mnt/DATA\r\n/dev/sdb  1.9T  1.7T  165G  92%  /mnt/BACKUP\n"})}),"\n",(0,o.jsx)(n.p,{children:"Now your secondary disks will auto-mount on booting. So that's it!!!"})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);