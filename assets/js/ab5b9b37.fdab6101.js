"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[60],{28453:(e,o,a)=>{a.d(o,{R:()=>l,x:()=>r});var s=a(96540);const n={},t=s.createContext(n);function l(e){const o=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),s.createElement(t.Provider,{value:o},e.children)}},87256:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>i,contentTitle:()=>r,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>m});const s=JSON.parse('{"id":"gists/ollama_model_copier","title":"Ollama Model Copier","description":"Copy Ollama Model to another computer in the same network (Linux)","source":"@site/docs/gists/ollama_model_copier.md","sourceDirName":"gists","slug":"/gists/ollama_model_copier","permalink":"/docs/gists/ollama_model_copier","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"ollama_model_copier","title":"Ollama Model Copier","sidebar_label":"Ollama Model Copier"},"sidebar":"tutorialSidebar","previous":{"title":"Microsoft Excel","permalink":"/docs/gists/ms_excel"},"next":{"title":"Python pip Commands","permalink":"/docs/gists/python_pip_cmds"}}');var n=a(74848),t=a(28453);const l={id:"ollama_model_copier",title:"Ollama Model Copier",sidebar_label:"Ollama Model Copier"},r=void 0,i={},m=[{value:"Copy Ollama Model to another computer in the same network (Linux)",id:"copy-ollama-model-to-another-computer-in-the-same-network-linux",level:3}];function d(e){const o={a:"a",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components},{Details:a}=o;return a||function(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h3,{id:"copy-ollama-model-to-another-computer-in-the-same-network-linux",children:"Copy Ollama Model to another computer in the same network (Linux)"}),"\n",(0,n.jsx)(o.p,{children:"Downloading ollama model, that too size of 20-50GB in different computers connected in a network is an unwanted work. The easiest way is to serve the model in the most powerful machine and access it via API in other computers."}),"\n",(0,n.jsx)(o.p,{children:"But sometimes we need these models in different computers (existing locally) for some reasons - if this is your case, then this gist is for you."}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["\n",(0,n.jsxs)(o.p,{children:["Get the path to manifest file of the ollama model you need to copy. It will be located at ",(0,n.jsx)(o.code,{children:'"/home/appuser/.ollama/models/manifests/registry.ollama.ai/library/<model_name>/<model_size(ex: 4b, 20b)>"'})]}),"\n"]}),"\n",(0,n.jsxs)(o.li,{children:["\n",(0,n.jsxs)(o.p,{children:["Copy this ",(0,n.jsx)(o.a,{href:"https://github.com/004Ajay/Personal-Works/blob/main/Helpfuls/ollama_models_copier.py",children:"python code"})," from ",(0,n.jsx)(o.a,{href:"https://github.com/004Ajay",children:"my GitHub"})," and put anywhere on your current system (system having the ollama model downloaded)."]}),"\n"]}),"\n",(0,n.jsxs)(o.li,{children:["\n",(0,n.jsxs)(o.p,{children:["Run the code in sudo mode (for permissions) \u2192 ",(0,n.jsx)(o.code,{children:"sudo python3 ollama_model_mover.py"})]}),"\n"]}),"\n",(0,n.jsxs)(o.li,{children:["\n",(0,n.jsx)(o.p,{children:"Enter the inputs the program asking, like Path from step 1, destination computer username, and destination computer IP address."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a,{children:[(0,n.jsx)("summary",{children:"See a sample output"}),(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-python",children:"Please give path to the ollama manifest file(content inside it maybe in JSON format)\nSample path '/home/appuser/.ollama/models/manifests/registry.ollama.ai/library/qwen3/4b'\nEnter path here: /home/appuser/.ollama/models/manifests/registry.ollama.ai/library/gpt-oss/20b\n\nOllama Manifest path given by you: '/home/appuser/.ollama/models/manifests/registry.ollama.ai/library/gpt-oss/20b'\n\nI created some paths automatically.\nCurrent system's ollama blobs path: '/home/appuser/.ollama/models/blobs'\nDestination Manifest path: '/home/appuser/.ollama/models/manifests/registry.ollama.ai/library/gpt-oss/20b'\nDestination Blobs path: '/home/appuser/.ollama/models/blobs'\n\nEnter your destination computer username (Sample: appuser)\nEnter username here: appuser\n\nEnter your destination computer IP Address (Sample: 192.168.1.230)\nEnter IP Address here: 192.168.1.230\n\n\n#### Run the following commands from this computer ####\n\n\nSSH command for making folders:\n\nssh appuser@192.168.1.230 'mkdir -p /home/appuser/.ollama/models/manifests/registry.ollama.ai/library/gpt-oss'\n\n\nManifest file scp command:\n\nsudo scp /home/appuser/.ollama/models/manifests/registry.ollama.ai/library/gpt-oss/20b\nappuser@192.168.1.230:/home/appuser/.ollama/models/manifests/registry.ollama.ai/library/gpt-oss/20b\n\n\nBlob files scp command:\n\nsudo scp\n/home/appuser/.ollama/models/blobs/sha256-8d6fdda4b271e5b3a03151998ab665f896fa1d35acecf5848e3972f0254cea \n/home/appuser/.ollama/models/blobs/sha256-b112e727c6f18875636c56a779790a590d705aec9e1eb5a97d51fc2a778583\n/home/appuser/.ollama/models/blobs/sha256-51468a0fd901ba858effc057a361f6dd33e4b3c99ead45f2673d2fd79a8943\n/home/appuser/.ollama/models/blobs/sha256-f603567777e927149cbd4c0ec1314a90caba9400ad205ddc4ce47ed001c2d6\n/home/appuser/.ollama/models/blobs/sha256-d8ba2f9a17b3bbdeb5690efaa409b3fcb0b56296a777c7ac78aa33bbddf182\nappuser@192.168.1.230:/home/appuser/.ollama/models/blobs\n\n\n## Info:\nThere are three commands, first one for making required folders, second for copying the manifest file and \nthird for copying the blobs. Make sure you copy and enter both the commands.\nIf any auto-created path is wrong, correct in the final 'scp' commands.\nIt is better to make edits in the python code, for ex: addition of 'sudo' infront of all scp commands.\n"})})]}),"\n",(0,n.jsxs)(o.ol,{start:"5",children:["\n",(0,n.jsxs)(o.li,{children:["\n",(0,n.jsx)(o.p,{children:"Run the 3 output commands (make any adjustments if needed) in the current computer itself and wait for the commands to copy the files."}),"\n"]}),"\n",(0,n.jsxs)(o.li,{children:["\n",(0,n.jsx)(o.p,{children:"Now you can check the other computer's ollama (ollama list, ollama run) if everything was done correctly."}),"\n"]}),"\n"]})]})}function c(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);